include(ExternalProject)
set(MINIZ_VERSION "2.1.0")
set(MINIZ_URL https://github.com/richgel999/miniz/releases/download/${MINIZ_VERSION}/miniz-${MINIZ_VERSION}.zip)
set(MINIZ_LIBRARY miniz)
set(MINIZ_ZIP ${CMAKE_CURRENT_BINARY_DIR}/miniz-${MINIZ_VERSION}.zip)
set(MINIZ_OUTDIR ${CMAKE_CURRENT_BINARY_DIR}/miniz-${MINIZ_VERSION})
file(DOWNLOAD ${MINIZ_URL} ${MINIZ_ZIP})
file(MAKE_DIRECTORY ${MINIZ_OUTDIR})
execute_process(COMMAND ${CMAKE_COMMAND} -E tar -xf ${MINIZ_ZIP}
                  WORKING_DIRECTORY ${MINIZ_OUTDIR})
add_library(${MINIZ_LIBRARY} STATIC ${MINIZ_OUTDIR}/miniz.c)
set(MINIZ_INCLUDE_DIR ${MINIZ_OUTDIR})
set(MINIZ_LIBRARIES ${MINIZ_LIBRARY})
set(MINIZ_GOTTEN True)